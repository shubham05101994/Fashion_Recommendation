(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,a,t){},40:function(e,a,t){e.exports=t(84)},45:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(18),s=t.n(r),c=(t(45),t(2)),o=t(3),i=t(4),m=t(5),u=t(10),d=t(13),p=t(12),g=(t(22),function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).logOut=n.logOut.bind(Object(p.a)(n)),n}return Object(o.a)(t,[{key:"logOut",value:function(e){e.preventDefault(),localStorage.removeItem("usertoken"),localStorage.removeItem("logintype"),localStorage.removeItem("email"),this.props.history.push("/")}},{key:"render",value:function(){var e=l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/login",className:"nav-link"},"Login")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/register",className:"nav-link"},"Register"))),a=l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/admin",className:"nav-link"},"Admin")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/alluserprofile",className:"nav-link"},"User Profiles")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"",onClick:this.logOut.bind(this),className:"nav-link"},"Logout"))),t=l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/profile",className:"nav-link"},"User")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"",onClick:this.logOut.bind(this),className:"nav-link"},"Logout"))),n="admin@cloud.com"==localStorage.email,r=void 0!=localStorage.usertoken;return console.log("Isadmin ="+n),console.log("isLoggedin="+r),l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark nav_color navcolo rounded"},l.a.createElement("h3",{style:{color:"white"}},"Recommendation System"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample10","aria-controls":"navbarsExample10","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExample10",style:{marginLeft:"17%"}},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/",className:"nav-link"},"Home"))),n&&r?a:"",0==n&&r?t:"",r?"":e)))}}]),t}(n.Component)),h=Object(d.e)(g),v=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={},n}return Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",{class:"page-footer font-small blue",style:{backgroundColor:"#455a64",color:"white",width:"100%",position:"absolute",bottom:"0"}},l.a.createElement("div",{class:"text-center",style:{paddingTop:"0.5%",paddingBottom:"0.5%"}},"\xa9 2021 Copyright: Fashion Recommendation Project"))}}]),t}(n.Component),f=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:""},l.a.createElement("div",{className:"jumbotron color_back mt-4"},l.a.createElement("div",{className:"col-sm-8 mx-auto"},l.a.createElement("h4",{className:"text-center"},"WELCOME TO"),l.a.createElement("div",null,l.a.createElement("h1",{className:"text-center name_app"},l.a.createElement("img",{src:"flash.png",alt:"Smiley face",height:"42",width:"42"}),"Fashion Recommendation Application")))),l.a.createElement("div",{className:"jumbotron mt-4",style:{marginLeft:"16%",marginRight:"16%"}},l.a.createElement("div",{className:"col-sm-8 mx-auto"},l.a.createElement("p",null,"**NOTE: Short Feature List:"),l.a.createElement("p",{className:""},"1. Application provides an Feature Extraction of user uploaded images"),l.a.createElement("p",{className:""},"2. User can see which features have been fetched."),l.a.createElement("p",{className:""},"3. User authentication is required"),l.a.createElement("p",{className:""},"4. User Registration/Login"),l.a.createElement("p",{className:""},"5. User upload photos"),l.a.createElement("p",{className:""},"6. Elastic search implementation"),l.a.createElement("p",{className:""},"7. Flask and Node as backend"),l.a.createElement("p",{className:""},"8. React and reducx as frontend and middleware"),l.a.createElement("p",{className:""},"9. Instagram trending recommendation "),l.a.createElement("p",{className:""},"10. Style Index based recommendation"))),l.a.createElement(v,null))}}]),t}(n.Component),E=t(20),b=t(9),y=t.n(b),N=t(17),w=t(14),x=t.n(w),S=t(23),O=t.n(S),j=function(){var e=Object(N.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("users/register",{first_name:a.first_name,last_name:a.last_name,gender:a.gender,address:a.address,email:a.email,password:a.password});case 3:e.sent,console.log("Registered"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),C=function(){var e=Object(N.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("users/login",{email:a.email,password:a.password});case 3:return t=e.sent,n=O()(t.data),localStorage.setItem("usertoken",t.data),localStorage.setItem("email",a.email),localStorage.setItem("gender",n.gender),e.abrupt("return",t.data);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),k=function(){var e=Object(N.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("gender"),e.prev=1,e.next=4,x.a.post("featureData/fetchedData",{extractedData:a,gender:t});case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),console.log("error in fetching data in user function",e.t0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),I=function(){var e=Object(N.a)(y.a.mark((function e(a){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("gender"),e.prev=1,e.next=4,x.a.post("featureData/instagramFetched",{extractedData:a,gender:t});case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),console.log("error in fetching data in user function",e.t0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(N.a)(y.a.mark((function e(a,t){var n,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("gender"),e.prev=1,e.next=4,x.a.post("featureData/styleIndex",{extractedData:a,styleIndex:t,gender:n});case 4:return l=e.sent,e.abrupt("return",l);case 8:e.prev=8,e.t0=e.catch(1),console.log("error in fetching data in user function",e.t0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t){return e.apply(this,arguments)}}(),D=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).onChange=function(a){e.setState(Object(E.a)({},a.target.name,a.target.value))},e.onSubmit=function(a){a.preventDefault();var t={email:e.state.email,password:e.state.password};C(t).then((function(a){a?"admin@cloud.com"==t.email?e.props.history.push("/admin"):e.props.history.push("/profile"):alert("please register")}))},e.state={email:"",password:"",errors:{}},e}return Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mt-5 mx-auto"},l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please sign in"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email address"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange,required:!0})),l.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary btn-block"},"Sign in")))))}}]),t}(n.Component),_=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).state={first_name:"",last_name:"",address:"",email:"",password:"",gender:"Male",errors:{}},e.onChange=e.onChange.bind(Object(p.a)(e)),e.onSubmit=e.onSubmit.bind(Object(p.a)(e)),e.handleChange=e.handleChange.bind(Object(p.a)(e)),e}return Object(o.a)(t,[{key:"onChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"handleChange",value:function(e){e.preventDefault(),this.setState({gender:e.target.value})}},{key:"onSubmit",value:function(e){var a=this;e.preventDefault();var t={first_name:this.state.first_name,last_name:this.state.last_name,address:this.state.address,email:this.state.email,password:this.state.password,gender:this.state.gender};j(t).then((function(e){a.props.history.push("/login")}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mt-5 mx-auto"},l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Register"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"First name"),l.a.createElement("input",{type:"text",className:"form-control",name:"first_name",placeholder:"Enter your first name",value:this.state.first_name,onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"Last name"),l.a.createElement("input",{type:"text",className:"form-control",name:"last_name",placeholder:"Enter your lastname name",value:this.state.last_name,onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"gender"},"Gender"),l.a.createElement("select",{className:"selectClass",value:this.state.gender,onChange:this.handleChange},l.a.createElement("option",{name:"Male",value:"Male"}," Male"),l.a.createElement("option",{name:"Female",value:"Female"},"Female"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"Address"),l.a.createElement("input",{type:"text",className:"form-control",name:"address",placeholder:"Enter your address",value:this.state.address,onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email address"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.onChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange})),l.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary btn-block"},"Register!")))))}}]),t}(n.Component),L=t(39),R=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleChange=function(e){n.setState({file:URL.createObjectURL(e.target.files[0]),fileDetails:e.target.files[0],imageFlag:!0,featureDetails:[]})},n.handleSelectChange=function(e){var a=e.value;console.log(e.value);var t="";"high"===a?(t="blue or green or red or fuchsia or purple",n.setState({nameStyleIndex:e.label})):"medium"===a?(t="yellow or aqua or teal or olive or lime",n.setState({nameStyleIndex:e.label})):(t="grey or white or silver",n.setState({nameStyleIndex:e.label})),F(n.state.featureDetails,t).then((function(e){n.setState({styleIndexImages:e.data})})).catch((function(e){console.log("Some thing went wrong",e)}))},n.imageUpload=function(){var e=new FormData;n.setState({blurFlag:!0}),n.setState({featureDetails:[],styleIndexImages:[]}),console.log(n.state.fileDetails);var a=n.state.fileDetails;e.append("image",a),console.log(e),x.a.post("http://ec2-34-237-52-87.compute-1.amazonaws.com:5000/detect",e,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data","Access-Control-Request-Headers":"*","Access-Control-Allow-Credentials":"*"}}).then((function(e){if(console.log(e),e.data&&0===Object.keys(e.data).length)return alert("Please upload new photo"),n.setState({file:null,fileDetails:null,blurFlag:!1}),null;n.setState({featureDetails:e.data,blurFlag:!1}),k(n.state.featureDetails).then((function(e){n.setState({recommendationImages:e.data,rImageFlag:!0})})).catch((function(e){console.log("Some thing went wrong",e)})),I(n.state.featureDetails).then((function(e){n.setState({instagramImages:e.data})})).catch((function(e){console.log("Some thing went wrong",e)}))})).catch((function(e){alert(e)}))},n.state={file:null,fileDetails:null,imageFlag:!1,featureDetails:[],confidence:[],blurFlag:!1,recommendationImages:[],instagramImages:[],styleIndexImages:[],styleIndex:"high",nameStyleIndex:"Select",rImageFlag:!1},n}return Object(o.a)(t,[{key:"render",value:function(){var e=this.state,a=e.featureDetails,t=e.blurFlag,n=e.recommendationImages,r=e.instagramImages,s=e.styleIndexImages,c=e.rImageFlag;console.log(a);return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},t&&l.a.createElement("div",{className:""},l.a.createElement("div",{class:"justify-content-center spinnerLoading"},l.a.createElement("div",{class:"spinner-border text-success",style:{display:"block"},role:"status"},l.a.createElement("span",{class:"sr-only"},"Loading...")),l.a.createElement("span",{style:{fontSize:"larger",fontWeight:600,marginLeft:"-30%",color:"#34eb34"}},"Feature Extracting...."))),l.a.createElement("div",{className:t?"blurDiv":""},l.a.createElement("div",{className:"container text-center",style:{marginTop:15,marginBottom:"1%"}},"Welcome to Fashion recommendation system"),l.a.createElement("div",{style:{display:"flex",maxHeight:"500px"}},l.a.createElement("div",{class:"card col-md-6",style:{width:"18rem"}},l.a.createElement("div",{class:"card-body"},l.a.createElement("input",{id:"file",type:"file",name:"file",accept:"image/png, image/jpeg",onChange:this.handleChange,ref:function(e){e},multiple:!0}),this.state.imageFlag&&l.a.createElement("div",{className:"text-center",style:{marginTop:"20%"}},l.a.createElement("button",{type:"button",class:"btn btn-success",style:{cursor:"pointer"},onClick:this.imageUpload},"Upload Photo")),this.state.fileDetails&&l.a.createElement("div",{className:"detailsAlign"},l.a.createElement("p",null,l.a.createElement("b",null,"Filename:")," ",this.state.fileDetails.name),l.a.createElement("p",null,l.a.createElement("b",null,"File type:")," ",this.state.fileDetails.type),l.a.createElement("p",null,l.a.createElement("b",null,"File size:")," ",this.state.fileDetails.size," bytes"),l.a.createElement("p",null,l.a.createElement("b",null,"File type:")," ",this.state.fileDetails.type)))),l.a.createElement("div",{class:"col-md-6"},l.a.createElement("img",{className:"img_preview",src:this.state.file}))))),l.a.createElement("div",null,c&&l.a.createElement("h2",{className:"col-md-12",style:{textAlign:"center",padding:"5%"}},"Images for recommendation"),l.a.createElement("div",{className:"col-md-12",style:{display:"flex",overflowX:"auto",width:"98%"}},n&&n.map((function(e){return l.a.createElement("div",null,l.a.createElement("img",{src:e,style:{height:"500px"}}))})))),l.a.createElement("div",null,c&&l.a.createElement("h2",{className:"col-md-12",style:{textAlign:"center",padding:"5%"}},"Instagram Trending Image"),l.a.createElement("div",{className:"col-md-12",style:{display:"flex",overflowX:"auto",width:"98%"}},r&&r.map((function(e){return l.a.createElement("div",null,l.a.createElement("img",{src:e,style:{height:"500px"}}))})))),c&&l.a.createElement("div",{style:{padding:"5%"}},l.a.createElement("div",{style:{display:"flex",marginLeft:"31%"}},l.a.createElement("h2",{style:{textAlign:"center",paddingRight:"5%",paddingBottom:"5%"}},this.state.nameStyleIndex," Recommendation"),l.a.createElement(L.a,{style:{width:"10%"},options:[{value:"high",label:"Party"},{value:"medium",label:"Moderate"},{value:"low",label:"Casual"}],onChange:this.handleSelectChange})),l.a.createElement("div",{className:"col-md-12",style:{display:"flex",overflowX:"auto",width:"98%"}},s&&s.map((function(e){return l.a.createElement("div",null,l.a.createElement("img",{src:e,style:{height:"500px"}}))})))))}}]),t}(n.Component),A=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement("div",null,l.a.createElement(h,null),l.a.createElement(d.a,{exact:!0,path:"/",component:f}),l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement(d.a,{exact:!0,path:"/register",component:_}),l.a.createElement(d.a,{exact:!0,path:"/login",component:D})),l.a.createElement("div",{className:""},l.a.createElement(d.a,{exact:!0,path:"/profile",component:R})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.2af785e0.chunk.js.map